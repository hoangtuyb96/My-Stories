<div class="user-page">
  <div class="container-fluid">
    <div class="row">
      <div class="col-lg-4 col-md-5">
        <md-card>
          <div class="card card-user">
            <div class="profile-block">
              <div class="panel text-center">
                <div class="user-heading">
                  <a class="img-user">
                    <img src="../../assets/picture/no-avatar.jpg" id="avatar">
                  </a>
                  <a class="upload-pic" href="#"
                    (click)="$event.preventDefault();chooseImage('#imageInput')">
                    <i class="material-icons">linked_camera</i>
                  </a>
                  <input type="file" class="choose-file" id="imageInput"
                    (change)="onChange($event)">
                </div>
              </div>
            </div>
            <div class="content text-center">
              <div class="author">
                <h4 class="title">{{user_name}}<br />
                  <a href="#"><small>{{user_email}}</small></a>
                </h4>
              </div>
              <p class="description text-center">
                {{'user.des1' | translate}} <br>
                {{'user.des2' | translate}} <br>
                {{'user.des3' | translate}} <br>
              </p>
              <div *ngIf="checkPageCurrentUser(), else follow">
                <button md-icon-button [mdMenuTriggerFor]="menu">
                  <div class="pull-right" mdTooltip="Edit your profile">
                    <button md-mini-fab>
                      <i class="material-icons">edit</i>
                    </button>
                  </div>
                </button>
                <md-menu #menu="mdMenu">
                  <app-updateuser></app-updateuser>
                </md-menu>
              </div>
              <ng-template #follow>
                  <div class="col-md-6 col-md-offset-3">
                    <button class="btn btn-success btn-block" (click)="onFollowButtom(user_id)">
                      <span class="fa fa-plus-circle"></span>{{user_followed_status}}
                    </button>
                  </div>
              </ng-template>
            </div>
            <hr>
            <div class="text-center">
              <div class="row">
                <div class="col-md-3 col-md-offset-1">
                  <h5><br /><small>{{'user.followed' | translate}}</small></h5>
                </div>
                <div class="col-md-4">
                  <h5><br /><small>{{'user.post' | translate}}</small></h5>
                </div>
                <div class="col-md-3">
                  <h5><br /><small>{{'user.voted' | translate}}</small></h5>
                </div>
              </div>
            </div>
          </div>
        </md-card>
        <md-card class="follow-card">
          <div class="card">
            <div class="header">
              <h4 class="title">{{'user.following' | translate}}</h4>
              <div class="row">
                <ul class="list-group">
                  <div *ngFor="let user of following | slice:0:10">
                    <a href="#" class="list-group-item" [routerLink]="['/user', user.id]">
                      {{user.name}}
                    </a>
                  </div>
                </ul>
              </div>
            </div>
            <div class="content">
              <ul class="list-unstyled team-members">
              </ul>
            </div>
          </div>
        </md-card>
      </div>
      <div class="col-lg-8 col-md-7">
        <md-tab-group>
          <md-tab label="{{'user.all_stories' | translate}}">
            <div class="card">
              <br><br>
              <div class="content">
                <div>
                  <app-story-thumbnail *ngFor="let story of stories" [story]="story" ></app-story-thumbnail>
                </div>
              </div>
            </div>
          </md-tab>
          <md-tab label="{{'user.new_feed' | translate}}">
            <div class="card">
              <br><br>
              <div class="content">
                <div>
                  <app-story-thumbnail *ngFor="let story of following_story" [story]="story" ></app-story-thumbnail>
                </div>
              </div>
            </div>
          </md-tab>
        </md-tab-group>
      </div>
    </div>
  </div>
</div>
